$schema: 'https://moonrepo.dev/schemas/project.json'

type: 'library'
language: 'typescript'
platform: 'node'

tasks:
  build:
    command: 'pnpm build'
    inputs:
      - 'src/**/*'
      - 'package.json'
      - 'tsconfig.json'
      - 'tsup.config.ts'
    outputs:
      - 'dist'

  dev:
    command: 'pnpm dev'
    local: true
    persistent: true

  test:
    command: 'pnpm test'
    inputs:
      - 'src/**/*'

  lint:
    command: 'pnpm lint'
    inputs:
      - 'src/**/*'

  typecheck:
    command: 'pnpm typecheck'
    inputs:
      - 'src/**/*'
      - 'tsconfig.json'

  clean:
    command: 'pnpm clean'
